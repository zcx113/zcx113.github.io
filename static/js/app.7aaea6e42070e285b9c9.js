webpackJsonp([1,0],[function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=s(2),a=o(i),c=s(9),n=o(c),r=s(24),l=o(r),d=s(51),v=o(d),p=s(54),u=o(p),f=s(56),h=o(f),_=s(57),b=o(_);s(10),a.default.use(n.default),a.default.use(l.default);var m=new n.default({linkActiveClass:"active"}),g=a.default.extend(v.default);m.map({"/goods":{component:u.default},"/ratings":{component:h.default},"/seller":{component:b.default}}),m.start(g,"#app"),m.go("/goods")},,,function(e,t,s){var o,i,a={};s(15),o=s(39),i=s(29),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(c.template=i),c.computed||(c.computed={}),Object.keys(a).forEach(function(e){var t=a[e];c.computed[e]=function(){return t}})},function(e,t,s){var o,i,a={};s(23),o=s(48),i=s(37),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(c.template=i),c.computed||(c.computed={}),Object.keys(a).forEach(function(e){var t=a[e];c.computed[e]=function(){return t}})},function(e,t,s){var o,i,a={};s(20),o=s(49),i=s(34),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(c.template=i),c.computed||(c.computed={}),Object.keys(a).forEach(function(e){var t=a[e];c.computed[e]=function(){return t}})},function(e,t,s){var o,i,a={};s(18),o=s(50),i=s(32),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(c.template=i),c.computed||(c.computed={}),Object.keys(a).forEach(function(e){var t=a[e];c.computed[e]=function(){return t}})},function(e,t){"use strict";function s(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var s={"M+":e.getMonth(),"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var i in s)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,o(s[i])));return t}function o(e){e+="";var t=e.length;return e="00"+e,e.substr(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=s},function(e,t,s){var o,i,a={};s(19),o=s(45),i=s(33),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(c.template=i),c.computed||(c.computed={}),Object.keys(a).forEach(function(e){var t=a[e];c.computed[e]=function(){return t}})},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){e.exports=' <div> <div class=header> <v-header :seller=seller></v-header> </div> <div class="tab border-1px"> <div class=tab-item> <a href="" v-link="{path: \'/goods\'}">商品</a> </div> <div class=tab-item> <a href="" v-link="{path: \'/ratings\'}">评价</a> </div> <div class=tab-item> <a href="" v-link="{path: \'/seller\'}">商家</a> </div> </div> <router-view :seller=seller></router-view> </div> '},function(e,t){e.exports=' <div class=header> <div class=content-wrapper> <div class=avatar> <img :src=seller.avatar alt=""> </div> <div class=content> <div class=title> <span class=brand></span> <span class=name>{{seller.name}}</span> </div> <div class=desc> {{seller.description}} / {{seller.deliveryTime}}分钟到达 </div> <div class=support-wrapper v-if=seller.supports> <v-support :support=seller.supports[0] :size=10></v-support> </div> <div class=support-count v-if=seller.supports @click=showDetail()> <span class=count-text>{{seller.supports.length}}个</span> <i class=icon-keyboard_arrow_right></i> </div> </div> </div> <div class=bulletin-wrapper @click=showDetail()> <span class=bulletin-title></span> <span class=bulletin-text>{{seller.bulletin}}</span> <i class=icon-keyboard_arrow_right></i> </div> <div class=background> <img :src=seller.avatar alt=""> </div> <div class=detail v-show=detailShow transition=fade> <div class=detail-wrapper> <h1 class=name>{{seller.name}}</h1> <div class=star-wrapper> <v-star :score=seller.score :size=48></v-star> </div> <div class=title-wrapper> <v-title title=优惠信息></v-title> </div> <div class=supports-wrapper> <v-support v-for="support in seller.supports" :support=support :size=12></v-support> </div> <div class=title-wrapper> <v-title title=商家公告></v-title> </div> <div class=bulletin-detail> {{seller.bulletin}} </div> </div> <div class=detail-close> <i class=icon-close @click=hideDetail()></i> </div> </div> </div> '},function(e,t){e.exports=' <div class=detail-title _v-187fa576=""> <span class=decorate _v-187fa576=""></span> <span class=text _v-187fa576="">{{title}}</span> <span class=decorate _v-187fa576=""></span> </div> '},function(e,t){e.exports=' <div class=food v-show=showFlag transition=fade v-el:food="" _v-1c6e0ab6=""> <div class=food-wrapper _v-1c6e0ab6=""> <div class=food-content _v-1c6e0ab6=""> <div class=image-header _v-1c6e0ab6=""> <img :src=food.image alt="" _v-1c6e0ab6=""> <div class=back @click=hide _v-1c6e0ab6=""> <i class=icon-arrow_lift _v-1c6e0ab6=""></i> </div> </div> <div class=content _v-1c6e0ab6=""> <h2 class=title _v-1c6e0ab6="">{{food.name}}</h2> <div class=detail _v-1c6e0ab6=""> <p class=extra _v-1c6e0ab6=""> <span class=sellCount _v-1c6e0ab6="">月售{{food.sellCount}}份</span><span _v-1c6e0ab6="">好评率 {{food.rating}}%</span> </p> <p class=price _v-1c6e0ab6=""> <span class=new _v-1c6e0ab6=""><font _v-1c6e0ab6="">￥</font>{{food.price}}</span> <span class=old v-show=food.oldPrice _v-1c6e0ab6=""><font _v-1c6e0ab6="">￥</font>{{food.oldPrice}}</span> </p> </div> </div> <div class=buy v-show="!food.count || food.count === 0" @click=addFirst transition=delay _v-1c6e0ab6="">加入购物车</div> <div class=cartcontrol-wrapper v-show="food.count > 0" _v-1c6e0ab6=""> <v-cartcontrol :food=food _v-1c6e0ab6=""></v-cartcontrol> </div> </div> <div class=info-wrapper v-show=food.info _v-1c6e0ab6=""> <v-split _v-1c6e0ab6=""></v-split> <div class=info _v-1c6e0ab6=""> <h3 class=title _v-1c6e0ab6="">商品介绍</h3> <p class=content _v-1c6e0ab6="">{{food.info}}</p> </div> </div> <div class=rattings-wrapper _v-1c6e0ab6=""> <v-split _v-1c6e0ab6=""></v-split> <h3 class=title _v-1c6e0ab6="">商品评价</h3> <div class=select-wrapper _v-1c6e0ab6=""> <v-ratingselect :desc=desc :ratings=ratings :only-content=onlyContent _v-1c6e0ab6=""></v-ratingselect> </div> <div class=rating-wrapper v-show="food.ratings &amp;&amp; food.ratings.length > 0" _v-1c6e0ab6=""> <ul _v-1c6e0ab6=""> <li class=rating-item v-for="rating in food.ratings" v-show=isShowRating(rating.rateType,rating.text) _v-1c6e0ab6=""> <div class=user-wrapper _v-1c6e0ab6=""> <span class=time v-text="rating.rateTime | formatDate" _v-1c6e0ab6=""></span> <div class=user _v-1c6e0ab6=""> <span class=name _v-1c6e0ab6="">{{rating.username}}</span> <img :src=rating.avatar alt="" class=avatar _v-1c6e0ab6=""> </div> </div> <div class=text _v-1c6e0ab6=""> <span :class="{\'icon-thumb_down\': rating.rateType === 1, \'icon-thumb_up\': rating.rateType === 0}" _v-1c6e0ab6=""></span> {{rating.text}} </div> </li> </ul> </div> <div class=rating-none v-show="!food.ratings || food.ratings.length === 0" _v-1c6e0ab6="">尚无评价</div> </div> </div> </div> '},function(e,t){e.exports=' <div class=cartcontrol _v-22dc1838=""> <div class=cart-decrease v-show=food.count @click.stop.prevent=decreaseCart($event) transition=move _v-22dc1838=""> <i class=icon-remove_circle_outline _v-22dc1838=""></i> </div> <div class=cart-count v-show=food.count _v-22dc1838="">{{food.count}}</div> <div class=cart-add @click.stop.prevent=addCart($event) _v-22dc1838=""> <i class=icon-add_circle _v-22dc1838=""></i> </div> </div> '},function(e,t){e.exports=' <div class=seller v-el:seller="" _v-2b123b16=""> <div class=seller-content _v-2b123b16=""> <div class=overview _v-2b123b16=""> <div class=desc _v-2b123b16=""> <h2 class=title _v-2b123b16="">{{seller.name}}</h2> <div class=star-wrapper _v-2b123b16=""> <v-star :score=seller.score :size=36 _v-2b123b16=""></v-star> <span class=rating-count _v-2b123b16="">({{seller.ratingCount}})</span> <span class=sell-count _v-2b123b16="">月售{{seller.sellCount}}单</span> </div> <div class=favorite @click=toggleFavorite _v-2b123b16=""> <span class=icon-favorite :class="{select: isFavorite}" transition=fade _v-2b123b16=""></span> <span class=text v-text=favoriteText _v-2b123b16=""></span> </div> </div> <ul class=other _v-2b123b16=""> <li _v-2b123b16=""> <div class=title _v-2b123b16="">起送价</div> <div class=content _v-2b123b16=""> <span class=number _v-2b123b16="">{{seller.minPrice}}</span>元 </div> </li> <li _v-2b123b16=""> <div class=title _v-2b123b16="">商家配送</div> <div class=content _v-2b123b16=""> <span class=number _v-2b123b16="">{{seller.deliveryPrice}}</span>元 </div> </li> <li _v-2b123b16=""> <div class=title _v-2b123b16="">平均配送事件</div> <div class=content _v-2b123b16=""> <span class=number _v-2b123b16="">{{seller.deliveryTime}}</span>分钟 </div> </li> </ul> </div> <v-split _v-2b123b16=""></v-split> <div class=container _v-2b123b16=""> <h2 class=title _v-2b123b16="">公告与活动</h2> <p class=bulletin _v-2b123b16="">{{seller.bulletin}}</p> <ul class=supports-wrapper _v-2b123b16=""> <li class=support-item v-for="support in seller.supports" _v-2b123b16=""> <v-support :support=support :size=12 _v-2b123b16=""></v-support> </li> </ul> </div> <v-split _v-2b123b16=""></v-split> <div class=container _v-2b123b16=""> <h2 class=title _v-2b123b16="">商家实景</h2> <div class=pics-scroll v-el:pics="" _v-2b123b16=""> <ul class=pics-wrapper v-el:picswrapper="" _v-2b123b16=""> <li class=pic-item v-for="pic in seller.pics" _v-2b123b16=""> <img :src=pic alt="" _v-2b123b16=""> </li> </ul> </div> </div> <v-split _v-2b123b16=""></v-split> <div class=container _v-2b123b16=""> <h2 class=title _v-2b123b16="">商家信息</h2> <ul class=infos-wrapper _v-2b123b16=""> <li class=info-item v-for="info in seller.infos" v-text=info _v-2b123b16=""></li> </ul> </div> </div> </div> '},function(e,t){e.exports=' <div class=goods _v-2f886b2c=""> <div class=menu-wrapper v-el:menu-wrapper="" _v-2f886b2c=""> <ul class=menu-list _v-2f886b2c=""> <li v-for="item in supports" class=menu-item :class="{current: $index===scrollY}" @click=selectMenu($index,$event) _v-2f886b2c=""> <div class=cell _v-2f886b2c=""> <v-support :support=item :size=12 :ellipsis=3 _v-2f886b2c=""></v-support> </div> </li> </ul> </div> <div class=foods-wrapper v-el:foods-wrapper="" _v-2f886b2c=""> <div class=scroll-hook _v-2f886b2c=""> <ul class=foods v-for="item in goods" _v-2f886b2c=""> <li class=food-title _v-2f886b2c=""> <h1 _v-2f886b2c="">{{item.name}}</h1> </li> <ul class=food-list _v-2f886b2c=""> <li class=food-item v-for="food in item.foods" @click="selectFoodAction(food, $event)" _v-2f886b2c=""> <div class=avatar _v-2f886b2c=""> <img :src=food.icon alt="" _v-2f886b2c=""> </div> <div class=content _v-2f886b2c=""> <h2 class=name _v-2f886b2c="">{{food.name}}</h2> <p class=desc _v-2f886b2c=""> {{food.description}} </p> <p class=extra _v-2f886b2c=""> <span class=sellCount _v-2f886b2c="">月售{{food.sellCount}}份</span><span _v-2f886b2c="">好评率 {{food.rating}}%</span> </p> <p class=price _v-2f886b2c=""> <span class=new _v-2f886b2c=""><font _v-2f886b2c="">￥</font>{{food.price}}</span> <span class=old v-show=food.oldPrice _v-2f886b2c=""><font _v-2f886b2c="">￥</font>{{food.oldPrice}}</span> </p> <div class=cartcontrol-wrapper _v-2f886b2c=""> <v-cartcontrol :food=food _v-2f886b2c=""></v-cartcontrol> </div> </div> </li> </ul> </ul> </div> </div> </div> <v-shopcart v-ref:shopcart="" :select-foods=selectFoods :delivery-price=seller.deliveryPrice :min-price=seller.minPrice _v-2f886b2c=""></v-shopcart> <v-food :food=selectFood v-ref:food="" _v-2f886b2c=""></v-food> '},function(e,t){e.exports=' <div class=support :class=clsSize _v-4751e1dc=""> <span class=text :class=lines _v-4751e1dc=""> <span class=icon :class=classMap[support.type] v-show="support.type >= 0" _v-4751e1dc=""></span>{{support.description}} </span> </div> '},function(e,t){e.exports=' <div class=ratingselect _v-603c1896=""> <div class=types _v-603c1896=""> <div class=block :class="{active: selectType === 2}" @click=changeType(2,$event) _v-603c1896=""> {{desc.all}}<span class=num _v-603c1896="">{{allNum}}</span> </div> <div class=block :class="{active: selectType === 0}" @click=changeType(0,$event) _v-603c1896=""> {{desc.positive}}<span class=num _v-603c1896="">{{positiveNum}}</span> </div> <div class="block negative" :class="{active: selectType === 1}" @click=changeType(1,$event) _v-603c1896=""> {{desc.negative}}<span class=num _v-603c1896="">{{negativeNum}}</span> </div> </div> <div class=switch :class="{on: onlyContent}" @click=toggleOnly _v-603c1896=""> <i class=icon-check_circle _v-603c1896=""></i> <span class=text _v-603c1896="">只看有内容的评价</span> </div> </div> '},function(e,t){e.exports=' <div class=star _v-62403994=""> <span v-for="star in starContainer" class=star-item :class=[starSize,star] track-by=$index _v-62403994=""></span> </div> '},function(e,t){e.exports=' <div class=shopcart _v-67c32e94=""> <div class=content _v-67c32e94=""> <div class=shopcart-left :class="{highlight: totalCount > 0}" @click=toggleList() _v-67c32e94=""> <div class=logo-wrapper _v-67c32e94=""> <span class=icon-shopping_cart _v-67c32e94=""></span> <span class=num _v-67c32e94="">{{totalCount}}</span> </div> <div class=price _v-67c32e94="">￥{{totalPrice}}</div> <div class=desc _v-67c32e94="">另需配送费￥{{deliveryPrice}}元起</div> </div> <div class=shopcart-right _v-67c32e94=""> <div class=pay :class="{enough: this.totalPrice >= this.minPrice}" @click=payment() _v-67c32e94=""> {{payDesc}} </div> </div> </div> <div class=ball-container _v-67c32e94=""> <div v-for="ball in balls" transition=drop class=ball v-show=ball.show _v-67c32e94=""> <div class="inner inner-hook" _v-67c32e94=""></div> </div> </div> <div class=showcart-list v-show=listShow transition=fold _v-67c32e94=""> <div class=list-header _v-67c32e94=""> <h3 class=title _v-67c32e94="">购物车</h3> <a class=empty @click=empty() _v-67c32e94="">清空</a> </div> <div class=list-content v-el:list-content="" _v-67c32e94=""> <ul _v-67c32e94=""> <li v-for="food in selectFoods" class=food-item _v-67c32e94=""> <h4 class=name _v-67c32e94="">{{food.name}}</h4> <div class=price _v-67c32e94=""> <font _v-67c32e94="">￥</font> <span class=num _v-67c32e94="">{{food.price}}</span> </div> <div class=cartcontroll-wrapper _v-67c32e94=""> <v-cartcontrol :food=food _v-67c32e94=""></v-cartcontrol> </div> </li> </ul> </div> </div> </div> <div class=list-mock v-show=listShow transition=fade @click=toggleList() _v-67c32e94=""></div> '},function(e,t){e.exports=' <div class=ratings v-el:ratings="" _v-7ed70dac=""> <div class=rating-content _v-7ed70dac=""> <div class=overview _v-7ed70dac=""> <div class=overview-left _v-7ed70dac=""> <h1 class=score _v-7ed70dac="">{{seller.score}}</h1> <p class=title _v-7ed70dac="">综合评分</p> <p class=rank _v-7ed70dac="">高于周边商家{{seller.rankRate}}%</p> </div> <div class=overview-right _v-7ed70dac=""> <div class=score-wrapper _v-7ed70dac=""> <span class=title _v-7ed70dac="">服务态度</span> <div class=star-wrapper _v-7ed70dac=""> <v-star :score=seller.score :size=36 _v-7ed70dac=""></v-star> </div> <span class=score _v-7ed70dac="">{{seller.serviceScore}}</span> </div> <div class=score-wrapper _v-7ed70dac=""> <span class=title _v-7ed70dac="">商品评分</span> <div class=star-wrapper _v-7ed70dac=""> <v-star :score=seller.serviceScore :size=36 _v-7ed70dac=""></v-star> </div> <span class=score _v-7ed70dac="">{{seller.score}}</span> </div> <div class=score-wrapper _v-7ed70dac=""> <span class=title _v-7ed70dac="">送达事件</span> <span class=delivery _v-7ed70dac="">{{seller.deliveryTime}}分钟</span> </div> </div> </div> <v-split _v-7ed70dac=""></v-split> <div class=rating-wrapper _v-7ed70dac=""> <v-ratingselect :ratings=ratings :only-content=onlyContent :select-type=selectType _v-7ed70dac=""></v-ratingselect> <ul class=rating-container _v-7ed70dac=""> <li class=rating-item v-for="rating in ratings" v-show=isShowRating(rating.rateType,rating.text) _v-7ed70dac=""> <img :src=rating.avatar alt="" class=avatar _v-7ed70dac=""> <div class=content _v-7ed70dac=""> <div class=name _v-7ed70dac="">{{rating.username}}</div> <div class=star-wrapper _v-7ed70dac=""> <v-star :score=rating.score :size=24 _v-7ed70dac=""></v-star> <span class=delivery _v-7ed70dac="">{{rating.deliveryTime}}分钟后送达</span> </div> <p class=text _v-7ed70dac="">{{rating.text}}</p> <div class=recommend-wrapper _v-7ed70dac=""> <span :class="{\'icon-thumb_down\': rating.rateType === 1, \'icon-thumb_up\': rating.rateType === 0}" _v-7ed70dac=""></span> <span class=recommend v-for="recommend in rating.recommend" _v-7ed70dac="">{{recommend}}</span> </div> <div class=time v-text="rating.rateTime | formatDate" _v-7ed70dac=""></div> </div> </li> </ul> </div> </div> </div> '},function(e,t){e.exports=' <div class=split _v-959f2a1c=""></div> '},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(55),a=o(i),c=0;t.default={components:{"v-header":a.default},created:function(){var e=this;this.$http.get("/api/seller").then(function(t){t=t.body,t.errno===c&&(e.seller=t.data)})},data:function(){return{seller:{}}}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(2),a=o(i);t.default={props:{food:Object},methods:{addCart:function(e){console.log(e),e._constructed&&(this.food.count?this.food.count+=1:a.default.set(this.food,"count",1),this.$dispatch("addCart",e.target||e.srcElement))},decreaseCart:function(e){e._constructed&&this.food.count&&this.food.count--}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{title:String}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(2),a=o(i),c=s(1),n=o(c),r=s(3),l=o(r),d=s(4),v=o(d),p=s(8),u=o(p),f=s(7),h=2;t.default={props:{food:{type:Object}},data:function(){return{showFlag:!1,desc:{all:"全部",positive:"推荐",negative:"吐槽"},ratings:[],onlyContent:!0,selectType:h}},methods:{show:function(){var e=this;this.showFlag=!0,this.$nextTick(function(){e.ratings=e.food.ratings,e.scroll?e.scroll.refresh():e.scroll=new n.default(e.$els.food,{click:!0})})},hide:function(){this.showFlag=!1},addFirst:function(e){void 0===this.food.count?a.default.set(this.food,"count",1):this.food.count=1,this.$dispatch("addCart",e.target||e.srcElement)},isShowRating:function(e,t){var s=this;return this.$nextTick(function(){s.scroll.refresh()}),!(this.onlyContent&&!t)&&(this.selectType===h||this.selectType===e)}},components:{"v-cartcontrol":l.default,"v-split":v.default,"v-ratingselect":u.default},events:{"ratings.only":function(e){this.onlyContent=e},"ratings.changetype":function(e){this.selectType=e}},filters:{formatDate:function(e){var t=new Date(e);return(0,f.formatDate)(t,"yyyy-MM-dd hh:mm")}}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(6),a=o(i),c=s(1),n=o(c),r=s(58),l=o(r),d=s(3),v=o(d),p=s(53),u=o(p),f=0;t.default={data:function(){return{goods:[],supports:[],listHeight:[],scrollY:0,selectFood:{}}},created:function(){var e=this;this.$http.get("api/goods").then(function(t){if(t=t.body,t.errno===f){e.goods=t.data;var s=void 0,o=e.goods.length;for(s=0;s<o;s++){var i={type:e.goods[s].type===-1?-1:5,description:e.goods[s].name};e.supports.push(i)}e.$nextTick(function(){e._initScroll(),e._calculateHeight()})}})},components:{"v-support":a.default,"v-shopcart":l.default,"v-cartcontrol":v.default,"v-food":u.default},methods:{_initScroll:function(){var e=this;this.menuScroll=new n.default(this.$els.menuWrapper,{click:!0}),this.foodsScroll=new n.default(this.$els.foodsWrapper,{probeType:3,click:!0}),this.foodsScroll.on("scroll",function(t){for(var s=Math.abs(Math.round(t.y)),o=1;o<e.listHeight.length;o++)s>=e.listHeight[o-1]&&s<e.listHeight[o]&&(e.scrollY=o-1)})},_calculateHeight:function(){var e=this.$els.foodsWrapper.getElementsByClassName("foods");this.listHeight.push(0);for(var t=0;t<e.length;t++){var s=e[t].clientHeight,o=this.listHeight[t]+s;this.listHeight.push(o)}},selectMenu:function(e,t){if(t._constructed){var s=this.$els.foodsWrapper.getElementsByClassName("foods"),o=s[e];this.foodsScroll.scrollToElement(o,300)}},_drop:function(e){var t=this;this.$nextTick(function(){t.$refs.shopcart.drop(e)})},selectFoodAction:function(e,t){t._constructed&&(this.selectFood=e,this.$refs.food.show())}},props:{seller:Object},computed:{selectFoods:function(){var e=[];return this.goods.forEach(function(t){t.foods.forEach(function(t){t.count&&e.push(t)})}),e}},events:{addCart:function(e){this._drop(e)}}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(5),a=o(i),c=s(52),n=o(c),r=s(6),l=o(r);t.default={props:{seller:Object},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"]},data:function(){return{detailShow:!1}},methods:{showDetail:function(){this.detailShow=!0},hideDetail:function(){this.detailShow=!1}},components:{"v-star":a.default,"v-title":n.default,"v-support":l.default}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(1),a=o(i),c=s(7),n=s(5),r=o(n),l=s(4),d=o(l),v=s(8),p=o(v),u=0,f=2;t.default={props:{seller:{type:Object}},data:function(){return{ratings:[],onlyContent:!0,selectType:f}},created:function(){var e=this;this.$http.get("/api/ratings").then(function(t){t=t.body,t.errno===u&&(e.ratings=t.data,e.$nextTick(function(){e.scroll=new a.default(e.$els.ratings,{click:!0})}))})},components:{"v-star":r.default,"v-split":d.default,"v-ratingselect":p.default},events:{"ratings.only":function(e){this.onlyContent=e},"ratings.changetype":function(e){this.selectType=e}},methods:{isShowRating:function(e,t){var s=this;return this.$nextTick(function(){s.scroll.refresh()}),(!this.onlyContent||0!==t.length)&&(this.selectType===f||this.selectType===e)}},filters:{formatDate:function(e){var t=new Date(e);return(0,c.formatDate)(t,"yyyy-MM-dd hh:mm")}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=2,o=0,i=1;t.default={props:{desc:{type:Object,default:function(){return{all:"全部",positive:"满意",negative:"不满意"}}},selectType:{type:Number,default:s},onlyContent:{type:Boolean,default:!0},ratings:{type:Array,default:function(){return[]}}},computed:{allNum:function(){return this.ratings.length},positiveNum:function(){var e=this.ratings.filter(function(e){return e.rateType===o});return e.length},negativeNum:function(){var e=this.ratings.filter(function(e){return e.rateType===i});return e.length}},methods:{toggleOnly:function(e){e._constructed&&(this.onlyContent=!this.onlyContent,this.$dispatch("ratings.only",this.onlyContent))},changeType:function(e,t){t._constructed&&(this.selectType=e,this.$dispatch("ratings.changetype",this.selectType))}}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(1),a=o(i),c=s(5),n=o(c),r=s(4),l=o(r),d=s(6),v=o(d);t.default={props:{seller:{type:Object}},components:{"v-star":n.default,"v-split":l.default,"v-support":v.default},created:function(){var e=this;this.$nextTick(function(){e.scroll=new a.default(e.$els.seller,{click:!0});var t=126*e.seller.pics.length-6;e.$els.picswrapper.style.width=t+"px",e.picsScroll=new a.default(e.$els.pics,{scrollX:!0})})},data:function(){return{isFavorite:!1,favoriteText:"收藏"}},methods:{toggleFavorite:function(){this.isFavorite=!this.isFavorite,this.isFavorite?this.favoriteText="已收藏":this.favoriteText="收藏"}}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(3),a=o(i),c=s(1),n=o(c);t.default={data:function(){return{balls:[{show:!1},{show:!1},{show:!1},{show:!1},{show:!1}],dropBalls:[],fold:!0}},props:{deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0},selectFoods:{type:Array,default:function(){return[{price:0,count:0}]}}},computed:{totalPrice:function(){for(var e=0,t=this.selectFoods.length,s=0;s<t;s++)e+=this.selectFoods[s].count*this.selectFoods[s].price;return e},totalCount:function(){for(var e=0,t=this.selectFoods.length,s=0;s<t;s++)e+=this.selectFoods[s].count;return e},payDesc:function(){return 0===this.totalPrice?"￥"+this.minPrice+"起送":this.totalPrice<this.minPrice?"还差￥"+(this.minPrice-this.totalPrice)+"起送":"去结算"},listShow:function(){var e=this;if(this.totalCount<=0)return this.fold=!0,!1;var t=!this.fold;return t&&this.$nextTick(function(){e.scroll?(e.scroll.refresh(),console.log(e.scroll.refresh)):e.scroll=new n.default(e.$els.listContent,{click:!0})}),t}},methods:{drop:function(e){for(var t=0;t<this.balls.length;t++){var s=this.balls[t];if(!s.show)return s.show=!0,s.el=e,void this.dropBalls.push(s)}},toggleList:function(){this.totalCount>0&&(this.fold=!this.fold)},empty:function(){this.selectFoods.forEach(function(e){e.count=0})},payment:function(){this.totalPrice>=this.minPrice&&(console.log(window.alert),window.alert("需支付￥"+this.totalPrice))}},transitions:{drop:{beforeEnter:function(e){for(var t=this.balls.length;t--;){var s=this.balls[t];if(s.show){var o=s.el.getBoundingClientRect(),i=o.left-32,a=-(window.innerHeight-o.top-22);e.style.display="",e.style.webkitTransform="translate3d(0,"+a+"px,0)",e.style.transform="translate3d(0,"+a+"px,0)";var c=e.getElementsByClassName("inner-hook")[0];c.style.webkitTransform="translate3d("+i+"px,0,0)",c.style.transform="translate3d("+i+"px,0,0)"}}},enter:function(e){e.offsetHeight;this.$nextTick(function(){e.style.webkitTransform="translate3d(0,0,0)",e.style.transform="translate3d(0,0,0)";var t=e.getElementsByClassName("inner-hook")[0];t.style.webkitTransform="translate3d(0,0,0)",t.style.transform="translate3d(0,0,0)"})},afterEnter:function(e){var t=this.dropBalls.shift();t&&(t.show=!1,e.style.display="none")}}},components:{"v-cartcontrol":a.default}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=5,o="on",i="half",a="off";t.default={props:{score:Number,size:Number},computed:{starContainer:function e(){for(var t=Math.floor(this.score),c=this.score%1!==0,e=[],n=0;n<t;n++)e.push(o);for(c&&e.push(i);e.length<s;)e.push(a);return e},starSize:function(){return"star"+this.size}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{support:Object,size:Number,ellipsis:Number},computed:{clsSize:function(){return"support_"+this.size}},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee","special3"],this.ellipsis&&(this.lines="lines"+this.ellipsis)}}},function(e,t,s){var o,i,a={};s(11),o=s(38),i=s(25),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(c.template=i),c.computed||(c.computed={}),Object.keys(a).forEach(function(e){var t=a[e];c.computed[e]=function(){return t}})},function(e,t,s){var o,i,a={};s(13),o=s(40),i=s(27),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(c.template=i),c.computed||(c.computed={}),Object.keys(a).forEach(function(e){var t=a[e];c.computed[e]=function(){return t}})},function(e,t,s){var o,i,a={};s(14),o=s(41),i=s(28),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(c.template=i),c.computed||(c.computed={}),Object.keys(a).forEach(function(e){var t=a[e];c.computed[e]=function(){return t}})},function(e,t,s){var o,i,a={};s(17),o=s(42),i=s(31),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(c.template=i),c.computed||(c.computed={}),Object.keys(a).forEach(function(e){var t=a[e];c.computed[e]=function(){return t}})},function(e,t,s){var o,i,a={};s(12),o=s(43),i=s(26),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(c.template=i),c.computed||(c.computed={}),Object.keys(a).forEach(function(e){var t=a[e];c.computed[e]=function(){return t}})},function(e,t,s){var o,i,a={};s(22),o=s(44),i=s(36),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(c.template=i),c.computed||(c.computed={}),Object.keys(a).forEach(function(e){var t=a[e];c.computed[e]=function(){return t}})},function(e,t,s){var o,i,a={};s(16),o=s(46),i=s(30),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(c.template=i),c.computed||(c.computed={}),Object.keys(a).forEach(function(e){var t=a[e];c.computed[e]=function(){return t}})},function(e,t,s){var o,i,a={};s(21),o=s(47),i=s(35),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(c.template=i),c.computed||(c.computed={}),Object.keys(a).forEach(function(e){var t=a[e];c.computed[e]=function(){return t}})},function(e,t){}]);
//# sourceMappingURL=app.7aaea6e42070e285b9c9.js.map